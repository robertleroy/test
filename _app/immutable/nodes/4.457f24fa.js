import{S as te,i as le,s as se,k as I,a as T,U as F,e as G,l as E,m as w,h as y,c as H,V as O,n as p,p as C,b as P,D as g,E as L,F as B,d as j,f as Y,g as q,L as Z,M as ne,o as ie,v as $,t as K,P as U,Q as ae,w as re,q as x,r as ee,N as J,J as oe,R as ce,T as ue,y as de,z as _e,A as pe,B as fe}from"../chunks/index.4ba8cd72.js";import{S as he,P as ve}from"../chunks/Popup.dba92ab9.js";import{b as M}from"../chunks/index.87f1b551.js";function W(f,e,l){const t=f.slice();return t[15]=e[l],t[20]=e,t[21]=l,t}function me(f){let e,l;return{c(){e=I("div"),l=x("list"),this.h()},l(t){e=E(t,"DIV",{style:!0});var c=w(e);l=ee(c,"list"),c.forEach(y),this.h()},h(){C(e,"text-align","center"),C(e,"line-height","2.5"),C(e,"font-variant","small-caps"),C(e,"opacity","0.6")},m(t,c){P(t,e,c),g(e,l)},p:J,i:J,o:J,d(t){t&&y(e)}}}function ye(f){let e,l=[],t=new Map,c,d=f[3].list;const o=n=>n[15].id;for(let n=0;n<d.length;n+=1){let s=W(f,d,n),u=o(s);t.set(u,l[n]=X(u,s))}return{c(){e=I("div");for(let n=0;n<l.length;n+=1)l[n].c()},l(n){e=E(n,"DIV",{});var s=w(e);for(let u=0;u<l.length;u+=1)l[u].l(s);s.forEach(y)},m(n,s){P(n,e,s);for(let u=0;u<l.length;u+=1)l[u]&&l[u].m(e,null);f[11](e),c=!0},p(n,s){s&44&&(d=n[3].list,$(),l=oe(l,s,o,1,n,d,t,e,ce,X,null,W),Y())},i(n){if(!c){for(let s=0;s<d.length;s+=1)q(l[s]);c=!0}},o(n){for(let s=0;s<l.length;s+=1)j(l[s]);c=!1},d(n){n&&y(e);for(let s=0;s<l.length;s+=1)l[s].d();f[11](null)}}}function X(f,e){let l,t,c,d,o,n,s,u,h,v,m,b,D,V;function S(){e[8].call(o,e[20],e[21])}function N(){e[9].call(s,e[20],e[21])}h=new ve({}),h.$on("delete",function(){ue(e[5](e[15].id))&&e[5](e[15].id).apply(this,arguments)});function r(){return e[10](e[15])}return{key:f,first:null,c(){l=I("div"),t=I("div"),c=x("⋮⋮"),d=T(),o=I("input"),n=T(),s=I("input"),u=T(),de(h.$$.fragment),v=T(),this.h()},l(i){l=E(i,"DIV",{class:!0,"data-id":!0});var _=w(l);t=E(_,"DIV",{class:!0});var a=w(t);c=ee(a,"⋮⋮"),a.forEach(y),d=H(_),o=E(_,"INPUT",{type:!0}),n=H(_),s=E(_,"INPUT",{type:!0,class:!0}),u=H(_),_e(h.$$.fragment,_),v=H(_),_.forEach(y),this.h()},h(){p(t,"class","handle svelte-pmtyy2"),p(o,"type","checkbox"),p(s,"type","text"),p(s,"class","svelte-pmtyy2"),p(l,"class","item svelte-pmtyy2"),p(l,"data-id",m=e[15].id),this.first=l},m(i,_){P(i,l,_),g(l,t),g(t,c),g(l,d),g(l,o),o.checked=e[15].completed,g(l,n),g(l,s),L(s,e[15].title),g(l,u),pe(h,l,null),g(l,v),b=!0,D||(V=[B(o,"change",S),B(s,"input",N),B(l,"keypress",e[6]),B(l,"click",r)],D=!0)},p(i,_){e=i,_&8&&(o.checked=e[15].completed),_&8&&s.value!==e[15].title&&L(s,e[15].title),(!b||_&8&&m!==(m=e[15].id))&&p(l,"data-id",m)},i(i){b||(q(h.$$.fragment,i),b=!0)},o(i){j(h.$$.fragment,i),b=!1},d(i){i&&y(l),fe(h),D=!1,Z(V)}}}function ge(f){let e,l,t,c,d,o,n,s,u,h,v,m,b,D,V,S,N;const r=[ye,me],i=[];function _(a,k){var z;return(z=a[3].list)!=null&&z.length?0:1}return v=_(f),m=i[v]=r[v](f),{c(){e=I("div"),l=I("div"),t=I("input"),c=T(),d=I("div"),o=F("svg"),n=F("path"),s=F("path"),u=T(),h=I("div"),m.c(),b=T(),D=G(),this.h()},l(a){e=E(a,"DIV",{class:!0});var k=w(e);l=E(k,"DIV",{class:!0});var z=w(l);t=E(z,"INPUT",{type:!0,placeholder:!0,class:!0}),z.forEach(y),c=H(k),d=E(k,"DIV",{class:!0});var Q=w(d);o=O(Q,"svg",{xmlns:!0,viewBox:!0,class:!0});var A=w(o);n=O(A,"path",{fill:!0,d:!0}),w(n).forEach(y),s=O(A,"path",{d:!0}),w(s).forEach(y),A.forEach(y),Q.forEach(y),k.forEach(y),u=H(a),h=E(a,"DIV",{class:!0});var R=w(h);m.l(R),R.forEach(y),b=H(a),D=G(),this.h()},h(){p(t,"type","text"),p(t,"placeholder","new item ..."),p(t,"class","svelte-pmtyy2"),p(l,"class","newItem"),p(n,"fill","none"),p(n,"d","M0 0h24v24H0z"),p(s,"d","M3 10h11v2H3zM3 6h11v2H3zM3 14h7v2H3zM20.59 11.93l-4.25 4.24-2.12-2.12-1.41 1.41L16.34 19 22 13.34z"),p(o,"xmlns","http://www.w3.org/2000/svg"),p(o,"viewBox","0 0 24 24"),p(o,"class","svelte-pmtyy2"),p(d,"class","icon svelte-pmtyy2"),C(d,"font-size","1.5rem"),p(e,"class","header svelte-pmtyy2"),p(h,"class","dragzone svelte-pmtyy2")},m(a,k){P(a,e,k),g(e,l),g(l,t),L(t,f[0]),g(e,c),g(e,d),g(d,o),g(o,n),g(o,s),P(a,u,k),P(a,h,k),i[v].m(h,null),P(a,b,k),P(a,D,k),V=!0,S||(N=[B(t,"input",f[7]),B(t,"change",f[4])],S=!0)},p(a,[k]){k&1&&t.value!==a[0]&&L(t,a[0]);let z=v;v=_(a),v===z?i[v].p(a,k):($(),j(i[z],1,1,()=>{i[z]=null}),Y(),m=i[v],m?m.p(a,k):(m=i[v]=r[v](a),m.c()),q(m,1),m.m(h,null))},i(a){V||(q(m),V=!0)},o(a){j(m),V=!1},d(a){a&&y(e),a&&y(u),a&&y(h),i[v].d(),a&&y(b),a&&y(D),S=!1,Z(N)}}}function ke(f,e,l){let t;ne(f,M,r=>l(3,t=r));let c="",d,o,n;async function s(){await K(),U(M,t.order=d.toArray(),t)}async function u(){if(c.length<3)return;v(),await K();const r=Date.now(),i={id:r.toString(36),title:c,completed:!1,created:r,updated:r};l(0,c=""),U(M,t.list=[...t.list,i],t),U(M,t.order=[...t.order,i.id],t)}async function h(r){U(M,t.list=t.list.filter(i=>i.id!==r),t),U(M,t.order=t.order.filter(i=>i!==r),t),v()}function v(){let r=[];for(let i=0;i<t.order.length;i++){const _=t.list.find(a=>a.id===t.order[i]);r.push(_)}U(M,t.list=[...r],t)}ie(()=>{d=he.create(o,{animation:300,touchStartThreshold:3,filter:"input:focus",preventOnFilter:!1,ghostClass:"ghostClass",direction:"vertical",store:{get(){return t.order},set(){s()}}})});function m(r){ae.call(this,f,r)}function b(){c=this.value,l(0,c)}function D(r,i){r[i].completed=this.checked,M.set(t)}function V(r,i){r[i].title=this.value,M.set(t)}const S=r=>{l(2,n=r),console.log(r)};function N(r){re[r?"unshift":"push"](()=>{o=r,l(1,o)})}return[c,o,n,t,u,h,m,b,D,V,S,N]}class Ee extends te{constructor(e){super(),le(this,e,ke,ge,se,{})}}export{Ee as component};
